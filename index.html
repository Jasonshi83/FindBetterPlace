<!DOCTYPE html>
<html lang="en">
<head>
    <!--    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">-->
<!--    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"-->
<!--            integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"-->
<!--            crossorigin="anonymous"></script>-->
    <script
            src="https://code.jquery.com/jquery-3.4.1.js"
            integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
            integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
            crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
            integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
            crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
          integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="css/main.css">

    <meta charset="UTF-8">
    <title>FindBetterPlace</title>
</head>
<body>
<nav class="navbar navbar-expand-lg fixed-top navbar-light bg-primary" id="navbar">
    <div class="container">
        <a class="navbar-brand" href="#">
            Home
        </a>

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-4">

                <li class="nav-item">
                    <a class="nav-link" href="#">About</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link " href="#">Portfolio</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link " href="#">Team</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link " href="#">Post</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link " href="#">Contact</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<header class="header">
    <div class="overlay"></div>
        <div class="container">
            <div class="description">
                <h3>
                    Welcome to Website
                    <p>
                        To be added later.</p>
                    <button class="btn btn-outline-secondary">See more</button>
                </h3>
            </div>
        </div>
</header>

<div class="container">
    <div class="row">
        <div class="col-md-12">
            <h1>My Google Map</h1>
            <div id="map">


            </div>
        </div>
    </div>
</div>


<script>
    var ajax = new XMLHttpRequest();
    var method = "GET";
    var url = "retrieve.php";
    var asynchronous = true;

    ajax.open(method, url, asynchronous);

    ajax.send();

    ajax.onreadystatechange = function()
    {
        // if(this.readyState == 4 && this.status == 200){
            var data = JSON.parse(this.responseText);
            console.log(data);
            alert(data)
        // }
    };
</script>


<script>

    // var ajax = new XMLHttpRequest();
    // var method = "GET";
    // var url = "retrieve.php";
    // var asynchronous = true;
    //
    // ajax.open(method, url, asynchronous);
    //
    // ajax.send();
    //
    // ajax.onreadystatechange = function()
    // {
    //     if(this.readyState == 4 && this.status == 200){
    //         var data = JSON.parse(this.responseText);
    //         console.log(data);
    //         alert(data)
    //     }
    // };






    /*-----------*/
    // var response = '';
    //
    // console.log(response);
    //
    // function getMapData(){
    //     // var response = '';
    //     console.log("------TEST-------");
    //     $.ajax({
    //         type: 'POST',
    //         url: 'retrieve.php',
    //         async: false,
    //         dataType: 'json',
    //         success: function(text){
    //             console.log("not done");
    //             console.log(text);
    //             response = JSON.parse(text);
    //             console.log(typeof(response));
    //             console.log(response);
    //             console.log("done");
    //             console.log(response.address);
    //         }
    //     });
    //     console.log("TTTT");
    //     alert(response)
    // }

    // getMapData();




    function initMap(){
        //Map options
        var options = {
            zoom:13,
            center:{lat: -41.2867093, lng: 174.7684929}
        };


        //New map
        var map = new google.maps.Map(document.getElementById('map'), options);
        /* //-----------------
        //Add marker
        var marker = new google.maps.Marker({
            position:{lat: -41.2932391, lng: 174.7782353},
            map: map,
            //Customer icon
            icon:"https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png"
        })

        var infoWindow = new google.maps.InfoWindow({
            content: '<h1> Terrible LandLord</h1>'
        });

        marker.addListener('click', function () {
            infoWindow.open(map, marker);
        })
        //------------------*/

        //Retrieve data from php








        // Array of markers
        var markers = [{
            coords:{lat: -41.2932391, lng: 174.7782353},
            content: "test1",
            iconImage:"https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png"
        },
            {
            coords:{lat:  -41.284067, lng: 174.7273995},
            content: "test1",
            // iconImage:"https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png"
            },
            {
            coords:{lat:  -41.284067, lng: 174.7273995},
            content: "test1",
                    // iconImage:"https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png"
                }
        ];

        for(var i = 0; i< markers.length; i++){
            addMarker(markers[i])
        }



       // // Add Coords to Function
       //  addMarker({
       //      coords:{lat: -41.2932391, lng: 174.7782353},
       //      content: "test1",
       //      iconImage:"https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png"
       //  });
       //  addMarker({
       //      coords:{lat:  -41.284067, lng: 174.7273995},
       //      content: "test1",
       //      // iconImage:"https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png"
       //  });


        // Add Marker Function
        function addMarker(props) {
            var marker = new google.maps.Marker({
                position: props.coords,
                map: map,
                //Customer icon
                // icon: props.iconImage
            });

            var infoWindow = new google.maps.InfoWindow({
                content: '<h6>' + props.content + '</h6>'
            });

            marker.addListener('click', function () {
                infoWindow.open(map, marker);
            });

            // Check for customicon
            if(props.iconImage){
                // set icon image
                marker.setIcon(props.iconImage)
            }
        }

    }
</script>


<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDs3vxgxkjSJPQrWLos58EWNL1jMH48Kfo
&callback=initMap"
async defer></script>
</body>

<footer class="footer">
    <div class="container footer-wrap">
        <div class="row">
            <div class="col-lg-4 lg-md-4 col-sm-12 align-self-center">
                <h1>hello1</h1>
            </div>
            <div class="col-lg-8 lg-md-8 col-sm-12">
                <h1>hello2</h1>
            </div>
        </div>
        <div class="copyright">
            Copyright Â© 2020
        </div>
    </div>
</footer>

<script type="text/javascript" src='js/main.js'></script>

</html>
